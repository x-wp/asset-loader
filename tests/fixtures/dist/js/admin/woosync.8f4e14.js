(()=>{"use strict";var e,t={511:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(676),t),o(r(472),t)},928:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},676:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(928),t),o(r(919),t),o(r(948),t)},919:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},948:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},472:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WpRouter=void 0;const o=n(r(349));t.WpRouter=class{constructor(e,t=!1){this.routes=e,this.propagate=t,this.classes={}}fire(e,t,r){if(r&&document.dispatchEvent(new CustomEvent("wpRouted",{bubbles:!0,detail:{route:e,fn:t}})),!this.routes[e])return!1;this.classes[e]||(this.classes[e]=this.routes[e]());try{this.classes[e][t]()}catch(e){}return!0}loadEvents(){this.fire("common","init",this.propagate),document.body.className.toLowerCase().split(/\s+/).map((e=>(0,o.default)(e))).forEach((e=>{this.fire(e,"init",this.propagate),this.fire(e,"finalize",this.propagate)})),this.fire("common","finalize",this.propagate)}}},696:(e,t,r)=>{var n=r(511);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function s(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var l=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"bars",void 0),s(this,"intervals",void 0)},t=[{key:"init",value:function(){this.intervals=[],this.bars=i(document.querySelectorAll(".woosync-progress-wrapper.inprog"))}},{key:"finalize",value:function(){var e=this;0!==this.bars.length&&(this.intervals=this.bars.map((function(t,r){return window.setInterval((function(){return e.checkProgress(t,r)}),3e3)})),this.bindEvents())}},{key:"bindEvents",value:function(){var e=this;document.querySelectorAll("td.ID a.disabled").forEach((function(t){return t.addEventListener("click",(function(t){return e.stopUnconvertedView(t)}))}))}},{key:"stopUnconvertedView",value:function(e){e.preventDefault(),alert("This synchronization is either not yet finished, or the log file has not been converted. Please wait...")}},{key:"checkProgress",value:function(e,t){var r=this,n=e.dataset.id;fetch("".concat(window.ajaxurl,"?action=woosync_get_sync_progress&sync_id=").concat(n),{method:"GET"}).then((function(e){return e.json()})).then((function(n){return r.updateProgress(e,n,t)}))}},{key:"updateProgress",value:function(e,t,r){var n=e.querySelector(".batch-info"),o=e.querySelector(".items-info"),i=e.querySelector(".woosync-progress-bar"),a=i.parentElement,u=e.querySelector(".woosync-progress-label"),s=e.closest("tr"),c=s.querySelector("td.column-date"),l=s.querySelector("td.column-status");if(u.innerHTML=t.labels,i){for(var f in t.data){var p,y=t.data[f].percent,d=i.querySelector(".bar.".concat(f));0===y&&(null===(p=d)||void 0===p||p.remove()),!d&&y>0&&((d=document.createElement("span")).classList.add("bar",f),i.appendChild(d)),y>0&&(d.style.width="".concat(y,"%"))}n.innerHTML=t.batch_text,o.innerHTML=t.items_text}c.innerHTML=t.date,l.innerHTML=t.status,t.percent>=100&&(n.remove(),a.remove(),window.clearInterval(this.intervals[r]))}}],t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),f=r(754),p=r.n(f);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function v(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var h=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"metabox",void 0),v(this,"inputs",void 0),v(this,"awn",void 0)},t=[{key:"init",value:function(){var e;this.metabox=document.querySelector("#woosync-product-sdl-data table"),this.inputs=null==this||null===(e=this.metabox)||void 0===e?void 0:e.querySelectorAll(".sdl-input")}},{key:"finalize",value:function(){var e=this;this.metabox&&(this.initAwn(),this.maybeReadonly(),this.metabox.querySelector(".save-sdl-data").addEventListener("click",(function(t){return e.saveSdlData(t)})))}},{key:"initAwn",value:function(){this.awn=new(p())({formatError:function(e){return e.responseJSON.message}})}},{key:"maybeReadonly",value:function(){"yes"!=this.metabox.dataset.admin&&this.inputs.forEach((function(e){return jQuery(e).prop("readonly",!0)}))}},{key:"saveSdlData",value:function(e){var t=this;e.preventDefault();var r=this.metabox.dataset.url,n={action:this.metabox.dataset.action,security:this.metabox.dataset.nonce,sdl:{}};this.inputs.forEach((function(e){n.sdl[e.id]=e.value})),this.awn.asyncBlock(jQuery.ajax({url:r,type:"POST",data:n}),(function(e){return t.awn.success(e.message)}))}}],t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}var S=function(){return e=function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n=void 0,(r=g(r="modalTemplate"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n},(t=[{key:"init",value:function(){this.initAwn()}},{key:"finalize",value:function(){}},{key:"initAwn",value:function(){window.awn=new(p())({labels:window.woosync.i18n.awn.awnLabels,messages:window.woosync.i18n.awn.awnMessages})}}])&&w(e.prototype,t),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),j=new n.WpRouter({common:function(){return new S},woocommercePageWoosyncSynchronizations:function(){return new l},postTypeProduct:function(){return new h}});document.addEventListener("DOMContentLoaded",(function(){return j.loadEvents()}))},349:e=>{const t=/[\p{Lu}]/u,r=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,o=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,a=new RegExp("^"+i.source),u=new RegExp(i.source+o.source,"gu"),s=new RegExp("\\d+"+o.source,"gu"),c=(e,o)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(o={pascalCase:!1,preserveConsecutiveUppercase:!1,...o},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const i=!1===o.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(o.locale),c=!1===o.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(o.locale);if(1===e.length)return o.pascalCase?c(e):i(e);return e!==i(e)&&(e=((e,n,o)=>{let i=!1,a=!1,u=!1;for(let s=0;s<e.length;s++){const c=e[s];i&&t.test(c)?(e=e.slice(0,s)+"-"+e.slice(s),i=!1,u=a,a=!0,s++):a&&u&&r.test(c)?(e=e.slice(0,s-1)+"-"+e.slice(s-1),u=a,a=!1,i=!0):(i=n(c)===c&&o(c)!==c,u=a,a=o(c)===c&&n(c)!==c)}return e})(e,i,c)),e=e.replace(a,""),e=o.preserveConsecutiveUppercase?((e,t)=>(n.lastIndex=0,e.replace(n,(e=>t(e)))))(e,i):i(e),o.pascalCase&&(e=c(e.charAt(0))+e.slice(1)),((e,t)=>(u.lastIndex=0,s.lastIndex=0,e.replace(u,((e,r)=>t(r))).replace(s,(e=>t(e)))))(e,c)};e.exports=c,e.exports.default=c},222:()=>{}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var a=1/0;for(l=0;l<e.length;l++){for(var[r,o,i]=e[l],u=!0,s=0;s<r.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(u=!1,i<a&&(a=i));if(u){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={317:0,567:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[a,u,s]=r,c=0;if(a.some((t=>0!==e[t]))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(s)var l=s(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.O(void 0,[567,492],(()=>n(696)));var o=n.O(void 0,[567,492],(()=>n(222)));o=n.O(o)})();